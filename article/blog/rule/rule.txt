http://holbrook.github.io/2012/03/20/rule_engine_1.html