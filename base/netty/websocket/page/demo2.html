<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<script type="text/javascript" src="./WebsocketJReWrite.js"></script>
<script type="text/javascript">
   var socket = new SocketJS();
	var url = 'ws://127.0.0.1/websocket?uname=tom';
	socket.conn(url);
	
   function sendData(){
    var text = document.getElementById("send").value;
	if(text === undefined || text === null){
		text = "nihao";
	}
	socket.send(text);
	document.getElementById("send").value = "";
   }
   
   function closeConn(){
   socket.closeWebsocket();
   }
	
	function sendBinData(){
		var text = document.getElementById("send2").value;
		if(text === undefined || text === null){
			text = "nihao_binary";
		}
		socket.sendBin(text);
		document.getElementById("send2").value = "";
	}
   
</script>
</head>
<body>
   <table>
    <tr>
	  <th>名称</th>
	  <th>按钮</th>
	  <th>效果</th>
	</tr>
	<tr>
	  <td>发送消息</td>
	  <td><input id="send" type="text"></td>
	  <td><input type="button" onclick="sendData();" value="发送" /></td>
	</tr>
	<tr>
	  <td>二进制发送消息</td>
	  <td><input id="send2" type="text"></td>
	  <td><input type="button" onclick="sendBinData();" value="发送" /></td>
	</tr>
	<tr>
	  <td>关闭</td>
	  <td>空</td>
	  <td><input type="button" onclick="closeConn();" value="close" /></td>
	</tr>
   </table>
</body>
</html>